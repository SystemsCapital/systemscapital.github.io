<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>S&P 500 Average Statistics on a Monthly basis for the past 5 years | Q3 2025</title>

    <meta name="description" content="S&P 500 Average Statistics on a Monthly basis for the past 5 years" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="canonical" href="https://www.systemscapital.net/Pages/SP500_Q32025.html" />
    <meta name="robots" content="index, follow">
    <link rel="icon" type="image/png" sizes="512x512" href="/favicon.png">

    <meta property="og:title" content="S&P 500 Average Statistics on a Monthly basis for the past 5 years | Systems Capital">
    <meta property="og:description" content="S&P 500 Average Statistics on a Monthly basis for the past 5 years">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.systemscapital.net/Pages/SP500_Q32025.html">

    <style>
        body {
            background: white;
            font-family: 'Century Schoolbook', serif;
            margin: 0;
            padding: 0;
        }

        .header {
            display: flex;
            align-items: center;
            padding: 20px;
        }

        nav a {
            margin-right: 20px;
            text-decoration: none;
            color: #666;
        }

        nav a:hover {
            text-decoration: underline;
        }

        .content {
            max-width: 1000px;
            margin: 40px auto;
            padding: 0 20px;
        }

        h1, h2 {
            color: #ABABAB;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 20px;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
            font-size: 14px;
        }

        th {
            background: #f5f5f5;
            cursor: pointer;
            position: relative;
        }

        .dropdown {
            display: none;
            position: absolute;
            background: white;
            border: 1px solid #ccc;
            z-index: 1000;
            padding: 8px;
            max-height: 300px;
            overflow-y: auto;
            width: 200px;
        }

        .checkboxes label {
            display: block;
            font-size: 13px;
        }

        footer {
            margin: 60px 0 30px;
            text-align: center;
            font-size: 14px;
            color: #777;
        }
    </style>
</head>

<body>

<header class="header">
    <nav>
        <a href="/">Home</a>
        <a href="/Pages/Tools.html">Tools</a>
    </nav>
</header>

<main class="content">

<h1>S&P 500 Average Statistics on a Monthly basis for the past 5 years | Q3 2025</h1>

<p>
    This was made using EXCEL, Python, SQL, and CSVs. The information is provided on an as-is basis.
</p>

<div id="csv-container">
    <h2>Data Table</h2>
    <table id="csv-table"></table>
</div>

<script>
const csvPath = '/data/SQL_Results.csv?version=' + new Date().getTime();

function formatDisplay(val, headerName) {
    const colName = headerName.toLowerCase();

    if (!isNaN(val) && val.trim() !== '' && !colName.includes('percentile')) {
        return (parseFloat(val) * 100).toFixed(2) + '%';
    }
    if (!isNaN(val) && colName.includes('percentile')) {
        return parseFloat(val).toFixed(2) + '%';
    }
    return val;
}

fetch(csvPath)
.then(res => res.text())
.then(text => {

    const rows = text.trim().split(/\r?\n/).map(r => r.split(','));
    const table = document.getElementById('csv-table');

    /* ---------- HEADER ---------- */
    let header = '<thead><tr>';
    rows[0].forEach((col, idx) => {
        header += `
            <th data-col="${idx}">
                ${col}
                <div class="dropdown">
                    <button class="select-all">Select All</button>
                    <input type="text" placeholder="Search">
                    <div class="checkboxes"></div>
                    <button class="apply">Apply</button>
                    <button class="cancel">Cancel</button>
                </div>
            </th>`;
    });
    header += '</tr></thead>';

    /* ---------- BODY ---------- */
    let body = '<tbody>';
    for (let i = 1; i < rows.length; i++) {
        if (rows[i].length > 1) {
            body += '<tr>';
            rows[i].forEach((c, colIdx) => {
                const headerName = rows[0][colIdx];
                body += `<td data-value="${c}">${formatDisplay(c, headerName)}</td>`;
            });
            body += '</tr>';
        }
    }
    body += '</tbody>';

    table.innerHTML = header + body;

    /* ---------- FILTERS ---------- */
    const ths = table.querySelectorAll('th');
    const filters = Array(rows[0].length).fill(null);

    ths.forEach(th => {
        const idx = th.dataset.col;
        const dropdown = th.querySelector('.dropdown');
        const checkboxContainer = dropdown.querySelector('.checkboxes');
        const headerName = rows[0][idx];

        const unique = [...new Set(rows.slice(1).map(r => r[idx]))];

        unique.forEach(val => {
            const label = document.createElement('label');
            label.innerHTML = `
                <input type="checkbox" value="${val}" checked>
                ${formatDisplay(val, headerName)}
            `;
            checkboxContainer.appendChild(label);
        });

        th.addEventListener('click', e => {
            e.stopPropagation();
            document.querySelectorAll('.dropdown').forEach(d => d.style.display = 'none');
            dropdown.style.display = 'block';
        });

        dropdown.querySelector('.apply').addEventListener('click', () => {
            filters[idx] = [...checkboxContainer.querySelectorAll('input:checked')].map(c => c.value);
            applyFilters();
            dropdown.style.display = 'none';
        });

        dropdown.querySelector('.cancel').addEventListener('click', () => {
            dropdown.style.display = 'none';
        });
    });

    function applyFilters() {
        [...table.tBodies[0].rows].forEach(row => {
            let show = true;
            filters.forEach((vals, idx) => {
                if (vals && !vals.includes(row.cells[idx].dataset.value)) {
                    show = false;
                }
            });
            row.style.display = show ? '' : 'none';
        });
    }

    document.addEventListener('click', () => {
        document.querySelectorAll('.dropdown').forEach(d => d.style.display = 'none');
    });

})
.catch(err => {
    console.error(err);
    document.getElementById('csv-container').innerHTML =
        '<p style="color:red;text-align:center;">Failed to load CSV.</p>';
});
</script>

</main>

<footer>
    © Systems Capital Inc. · Investment Research · Financial Tools · Education
</footer>

</body>
</html>
